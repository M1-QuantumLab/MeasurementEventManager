#! python
'''
Start up a MeasurementEventManager instance with the specified sockets.
'''

import logging

import measurement_event_manager as mem
import measurement_event_manager.util.logger as mem_logging


###############################################################################
## Initialization
###############################################################################

## Logging
##########

logger = mem_logging.quick_config(
                        logging.getLogger('MeasurementEventManager'),
                        console_log_level=logging.INFO,
                        file_log_level=logging.DEBUG,
                        )
logger.debug('Logging initialized.')


###############################################################################
## MeasurementEventManager
###############################################################################

## Instantiate object
mem_server = mem.MeasurementEventManager.MeasurementEventManager(logger)
## Set up connections
## TODO get connection parameters (addresses etc.) from user-defined config
mem_server.connect_sockets()

## Main event loop
mem_server.run_event_loop()
